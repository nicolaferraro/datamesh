syntax = "proto3";

package service;

service DataMesh {

  rpc Push(Event) returns (Empty) {}

  rpc Observe(ObserverStatus) returns (stream Event) {}

  rpc Compute(stream Computation) returns (stream Event) {}

}

message ObserverStatus {
  int64   version   = 1;
}

message Computation {
  // TBD
}

message Event {
  string  name    = 1;
  bytes   payload = 2;
}

message Empty {

}